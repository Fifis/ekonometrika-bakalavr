install.packages(c("lmtest", "sandwich"))library(lmtest)library(sandwich)reg <- lm(ln_price_metr ~ 1+ln_livesp+ln_kitsp+ln_dist+ln_metrdist, data=data_flats)gqtest(reg, point=0.5)u_sq <- reg$residuals^2R_sq <- summary(lm(u_sq ~ 1+ln_livesp+ln_kitsp+ln_dist+ln_metrdist+ln_livesp_sq+ln_kitsp_sq+ln_dist_sq+ln_metrdist_sq+ln_livesp*ln_kitsp+ln_livesp*ln_dist+ln_livesp*ln_metrdist+ln_kitsp*ln_dist+ln_kitsp*ln_metrdist+ln_dist*ln_metrdist, data=data_flats))$r.squaredLM <- dim(data)[1]*R_sqp_value <- 1 - pchisq(LM, 14)p_valuebptest(reg)coeftest(reg, vcov=vcovHC(reg))summary(reg)